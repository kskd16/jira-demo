{% extends "iframe_base.html" %}

{% block title %}GitHub Integration{% endblock %}

{% block content %}
<div class="p-8">
  <div class="max-w-3xl mx-auto bg-white p-6 rounded shadow">
    <h1 class="text-3xl font-bold text-blue-600 mb-4">GitHub Integration</h1>
    <p class="text-gray-700 mb-6">To integrate your project with GitHub, please connect your account below:</p>

    <a href="https://github.com/login/oauth/authorize?client_id={{ github_client_id }}&scope=repo" target="_blank"
       class="bg-black hover:bg-gray-900 text-white font-semibold px-6 py-3 rounded flex items-center gap-2 w-fit">
      <img src="https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png" alt="GitHub Logo" class="w-6 h-6">
      Login with GitHub
    </a>

    <div class="mt-10">
      <h2 class="text-xl font-semibold mb-2">Recent Commits</h2>
      {% if commits %}
        <ul class="space-y-2">
          {% for commit in commits %}
          <li class="text-gray-800 border-b pb-2">
            <p class="font-medium">{{ commit.message }}</p>
            <p class="text-sm text-gray-500">by {{ commit.author }} on {{ commit.date }}</p>
          </li>
          {% endfor %}
        </ul>
      {% else %}
        <p class="text-sm text-gray-500">No commits found. Please authenticate first.</p>
      {% endif %}
    </div>
  </div>
</div>
{% endblock %}